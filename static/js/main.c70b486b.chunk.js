(this["webpackJsonpthe-online-music-store"]=this["webpackJsonpthe-online-music-store"]||[]).push([[0],{40:function(t,e,a){},54:function(t,e,a){},58:function(t,e,a){"use strict";a.r(e);var n=a(2),i=a.n(n),l=a(32),o=a.n(l),s=(a(40),a(26)),r=a(15),c=a(16),u=a(18),p=a(17),b=a(4),d=a.n(b),h=a(20),m=a(6),j=a(14),C=a.n(j),O=a(19),y=a.n(O),x=a(27),f=[{albumId:"1",albumName:"The Script",albumArtist:"The Script",onCartCount:0,purchasedCount:0,albumPrice:21,songs:[{title:"We Cry",artist:"The Script",playCount:0},{title:"Before The Worst",artist:"The Script",playCount:0},{title:"Talk You Down",artist:"The Script",playCount:0},{title:"The Man Who Can't Be Moved",artist:"The Script",playCount:0},{title:"Breakeven",artist:"The Script",playCount:0},{title:"Rusty Halo",artist:"The Script",playCount:0},{title:"The End Where I Begin",artist:"The Script",playCount:0},{title:"Fall For Anything",artist:"The Script",playCount:0},{title:"If You See Kay",artist:"The Script",playCount:0},{title:"I'm Yours",artist:"The Script",playCount:0},{title:"Anybody There",artist:"The Script",playCount:0}]},{albumId:"2",albumName:"Science & Faith",albumArtist:"The Script",onCartCount:0,purchasedCount:0,albumPrice:14,songs:[{title:"You Won't Feel A Thing",artist:"The Script",playCount:0},{title:"For The First Time",artist:"The Script",playCount:0},{title:"Nothing",artist:"The Script",playCount:0},{title:"Science & Faith",artist:"The Script",playCount:0},{title:"If You Ever Come Back",artist:"The Script",playCount:0},{title:"Long Gone And Moved On",artist:"The Script",playCount:0},{title:"Dead Man Walking",artist:"The Script",playCount:0},{title:"This = Love",artist:"The Script",playCount:0},{title:"Walk Away",artist:"The Script",playCount:0},{title:"Exit Wounds",artist:"The Script",playCount:0}]},{albumId:"3",albumName:"#3",albumArtist:"The Script",onCartCount:0,purchasedCount:0,albumPrice:17,songs:[{title:"Good Ol' Days",artist:"The Script",playCount:0},{title:"Six Degrees Of Separation",artist:"The Script",playCount:0},{title:"Hall Of Fame",artist:"The Script",playCount:0},{title:"If You Could See Me Now",artist:"The Script",playCount:0},{title:"Glowing",artist:"The Script",playCount:0},{title:"Give The Love Around",artist:"The Script",playCount:0},{title:"Broken Arrow",artist:"The Script",playCount:0},{title:"Kaleidoscope",artist:"The Script",playCount:0},{title:"No Words",artist:"The Script",playCount:0},{title:"Millionaires",artist:"The Script",playCount:0}]},{albumId:"4",albumName:"No Sound Without Silence",albumArtist:"The Script",onCartCount:0,purchasedCount:0,albumPrice:18,songs:[{title:"No Good In Goodbye",artist:"The Script",playCount:0},{title:"Superheroes",artist:"The Script",playCount:0},{title:"Man On A Wire",artist:"The Script",playCount:0},{title:"It's Not Right For You",artist:"The Script",playCount:0},{title:"The Energy Never Dies",artist:"The Script",playCount:0},{title:"Flares",artist:"The Script",playCount:0},{title:"Army Of Angels",artist:"The Script",playCount:0},{title:'Never Seen Anything "Quite Like You"',artist:"The Script",playCount:0},{title:"Paint The Town Green",artist:"The Script",playCount:0},{title:"Without Those Songs",artist:"The Script",playCount:0},{title:"Hail Rain Or Sunshine",artist:"The Script",playCount:0}]},{albumId:"5",albumName:"Freedom Child",albumArtist:"The Script",onCartCount:0,purchasedCount:0,albumPrice:20,songs:[{title:"No Man Is An Island",artist:"The Script",playCount:0},{title:"Rain",artist:"The Script",playCount:0},{title:"Arms Open",artist:"The Script",playCount:0},{title:"Rock The World",artist:"The Script",playCount:0},{title:"Mad Love",artist:"The Script",playCount:0},{title:"Deliverance",artist:"The Script",playCount:0},{title:"Divided States Of America",artist:"The Script",playCount:0},{title:"Wonders",artist:"The Script",playCount:0},{title:"Love Not Lovers",artist:"The Script",playCount:0},{title:"Eden",artist:"The Script",playCount:0},{title:"Make Up",artist:"The Script",playCount:0},{title:"Written In The Scars",artist:"The Script",playCount:0},{title:"Awakening",artist:"The Script",playCount:0},{title:"Freedom Child",artist:"The Script",playCount:0}]},{albumId:"6",albumName:"Sunsets & Full Moons",albumArtist:"The Script",onCartCount:0,purchasedCount:0,albumPrice:21,songs:[{title:"Something Unreal",artist:"The Script",playCount:0},{title:"The Last Time",artist:"The Script",playCount:0},{title:"Run Through Walls",artist:"The Script",playCount:0},{title:"If You Don't Love Yourself",artist:"The Script",playCount:0},{title:"Hurt People Hurt People",artist:"The Script",playCount:0},{title:"Same Time",artist:"The Script",playCount:0},{title:"Underdog",artist:"The Script",playCount:0},{title:"The Hurt Game",artist:"The Script",playCount:0},{title:"Hot Summer Nights",artist:"The Script",playCount:0}]},{albumId:"7",albumName:"OneRepublic",albumArtist:"OneRepublic",onCartCount:0,purchasedCount:0,albumPrice:9,songs:[{title:"Mercy",artist:"OneRepublic",playCount:0},{title:"Apologize",artist:"OneRepublic",playCount:0},{title:"Stop & Stare",artist:"OneRepublic",playCount:0},{title:"Tyrant",artist:"OneRepublic",playCount:0},{title:"Sleep",artist:"OneRepublic",playCount:0},{title:"Goodbye Apathy",artist:"OneRepublic",playCount:0},{title:"All We Are",artist:"OneRepublic",playCount:0},{title:"Someone To Save You",artist:"OneRepublic",playCount:0},{title:"Dreamin' Out Loud",artist:"OneRepublic",playCount:0},{title:"Too Easy",artist:"OneRepublic",playCount:0},{title:"Prodigal",artist:"OneRepublic",playCount:0}]},{albumId:"8",albumName:"Dreaming Out Loud",albumArtist:"OneRepublic",onCartCount:0,purchasedCount:0,albumPrice:12,songs:[{title:"Say (All I Need)",artist:"OneRepublic",playCount:0},{title:"Mercy",artist:"OneRepublic",playCount:0},{title:"Stop And Stare",artist:"OneRepublic",playCount:0},{title:"Apologize",artist:"OneRepublic",playCount:0},{title:"Goodbye, Apathy",artist:"OneRepublic",playCount:0},{title:"All Fall Down",artist:"OneRepublic",playCount:0},{title:"Tyrant",artist:"OneRepublic",playCount:0},{title:"Prodigal",artist:"OneRepublic",playCount:0},{title:"Won't Stop",artist:"OneRepublic",playCount:0},{title:"All We Are",artist:"OneRepublic",playCount:0},{title:"Someone To Save You",artist:"OneRepublic",playCount:0},{title:"Come Home",artist:"OneRepublic",playCount:0},{title:"Dreaming Out Loud",artist:"OneRepublic",playCount:0},{title:"Apologize (Remix)",artist:"OneRepublic",playCount:0}]},{albumId:"9",albumName:"Waking Up",albumArtist:"OneRepublic",onCartCount:0,purchasedCount:0,albumPrice:12,songs:[{title:"Made For You",artist:"OneRepublic",playCount:0},{title:"All The Right Moves",artist:"OneRepublic",playCount:0},{title:"Secrets",artist:"OneRepublic",playCount:0},{title:"Everybody Loves Me",artist:"OneRepublic",playCount:0},{title:"Missing Persons 1 & 2",artist:"OneRepublic",playCount:0},{title:"Good Life",artist:"OneRepublic",playCount:0},{title:"All This Time",artist:"OneRepublic",playCount:0},{title:"Fear",artist:"OneRepublic",playCount:0},{title:"Waking Up",artist:"OneRepublic",playCount:0},{title:"Marchin' On",artist:"OneRepublic",playCount:0},{title:"Lullaby",artist:"OneRepublic",playCount:0}]},{albumId:"10",albumName:"Native",albumArtist:"OneRepublic",onCartCount:0,purchasedCount:0,albumPrice:15,songs:[{title:"Counting Stars",artist:"OneRepublic",playCount:0},{title:"If I Lose Myself",artist:"OneRepublic",playCount:0},{title:"Feel Again",artist:"OneRepublic",playCount:0},{title:"What You Wanted",artist:"OneRepublic",playCount:0},{title:"I Lived",artist:"OneRepublic",playCount:0},{title:"Light It Up",artist:"OneRepublic",playCount:0},{title:"Can't Stop",artist:"OneRepublic",playCount:0},{title:"Au Revoir",artist:"OneRepublic",playCount:0},{title:"Burning Bridges",artist:"OneRepublic",playCount:0},{title:"Something I Need",artist:"OneRepublic",playCount:0},{title:"Preacher",artist:"OneRepublic",playCount:0},{title:"Don't Look Down",artist:"OneRepublic",playCount:0},{title:"Something's Gotta Give",artist:"OneRepublic",playCount:0},{title:"Life In Color",artist:"OneRepublic",playCount:0}]},{albumId:"11",albumName:"Oh My My",albumArtist:"OneRepublic",onCartCount:0,purchasedCount:0,albumPrice:14,songs:[{title:"Let's Hurt Tonight",artist:"OneRepublic",playCount:0},{title:"Future Looks Good",artist:"OneRepublic",playCount:0},{title:"Oh My My",artist:"OneRepublic",playCount:0},{title:"Kids",artist:"OneRepublic",playCount:0},{title:"Dream",artist:"OneRepublic",playCount:0},{title:"Choke",artist:"OneRepublic",playCount:0},{title:"A.I.",artist:"OneRepublic",playCount:0},{title:"Better",artist:"OneRepublic",playCount:0},{title:"Born",artist:"OneRepublic",playCount:0},{title:"Fingertips",artist:"OneRepublic",playCount:0},{title:"Human",artist:"OneRepublic",playCount:0},{title:"Lift Me Up",artist:"OneRepublic",playCount:0},{title:"NbHD",artist:"OneRepublic",playCount:0},{title:"Wherever I Go",artist:"OneRepublic",playCount:0},{title:"All These Things",artist:"OneRepublic",playCount:0},{title:"Heaven",artist:"OneRepublic",playCount:0}]},{albumId:"12",albumName:"The EP",albumArtist:"Music Travel Love",onCartCount:0,purchasedCount:0,albumPrice:14,songs:[{title:"Amen for Women",artist:"Music Travel Love",playCount:0},{title:"Cool",artist:"Music Travel Love",playCount:0},{title:"Roll",artist:"Music Travel Love",playCount:0},{title:"420",artist:"Music Travel Love",playCount:0},{title:"Nobody Like You",artist:"Music Travel Love",playCount:0},{title:"Goodbye Baby",artist:"Music Travel Love",playCount:0}]},{albumId:"13",albumName:"All The Right Reasons",albumArtist:"Nickelback",onCartCount:0,purchasedCount:0,albumPrice:19,songs:[{title:"Follow You Home",artist:"Nickelback",playCount:0},{title:"Fight For All The Wrong Reasons",artist:"Nickelback",playCount:0},{title:"Photograph",artist:"Nickelback",playCount:0},{title:"Animals",artist:"Nickelback",playCount:0},{title:"Savin' Me",artist:"Nickelback",playCount:0},{title:"Far Away",artist:"Nickelback",playCount:0},{title:"Next Contestant",artist:"Nickelback",playCount:0},{title:"Side Of A Bullet",artist:"Nickelback",playCount:0},{title:"If Everyone Cared",artist:"Nickelback",playCount:0},{title:"Someone That You're With",artist:"Nickelback",playCount:0},{title:"Rockstar",artist:"Nickelback",playCount:0}]}],g=a(33),T=(a(43),a(59),g.a.initializeApp({apiKey:"AIzaSyDjJh5kNPwHGRzRdi_cYnxok7KfTvVfX-g",authDomain:"the-online-music-store.firebaseapp.com",projectId:"the-online-music-store",storageBucket:"the-online-music-store.appspot.com",messagingSenderId:"634983174557",appId:"1:634983174557:web:7330ac724f145ae35b5f74"}).firestore()),v=T.collection("albums"),N=function(t){console.log("---- Adding Albums"),d.a.forEach(f,(function(e,a){e.albumRef=T.doc("albumId/"+(a+1)),t&&(e.onCartCount=d.a.random(3),e.purchasedCount=d.a.random(333),e.albumPrice=d.a.random(9,21)),e.songs.forEach((function(e,n){e.songId=n+1,e.albumId=a+1,t&&(e.playCount=d.a.random(7,777))})),v.doc(e.albumId).set(e).then((function(){console.log("Document written with ID: ",e.albumId),f.length-1==a&&console.log("-- Done Retreiving Albums")})).catch((function(t){console.error("Error adding document: ",t)}))}))},S=function(){var t=Object(x.a)(y.a.mark((function t(e,a,n){var i,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("---- Deleting Albums"),t.next=3,v.get();case 3:return i=t.sent,l=T.batch(),i.docs.forEach((function(t){l.delete(t.ref),console.log("Document deleted with ID: ",t.id)})),t.next=8,l.commit().then((function(){console.log("-- Done Delete"),a&&N(n)})).catch((function(t){console.error("Error deleting document: ",t)}));case 8:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),A=function(t){console.log("---- Initializing Albums"),v.get().then((function(e){e.empty?N():S("albums",!0,t)}))},k=function(){var t=Object(x.a)(y.a.mark((function t(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("---- Getting Albums"),e=[],t.next=4,v.get().then((function(t){t.forEach((function(t){console.log("Document retrieved with ID: ",t.id);var a=Object.assign({id:t.id},t.data());e.push(a)}))})).catch((function(t){console.error("Error retrieving document: ",t)}));case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(x.a)(y.a.mark((function t(){var e,a,n,i,l,o=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1?o[1]:void 0,n=o.length>2?o[2]:void 0,i=o.length>3?o[3]:void 0,l=o.length>4?o[4]:void 0,console.log("---- Update Albums"),n&&(console.log("Update Play Count"),a.songs[e-1].playCount+=1),console.log(i),"inc"===i&&(console.log("Update Cart"),a.onCartCount+=1),"dec"===i&&(console.log("Update Cart"),a.onCartCount-=1),l&&(console.log("Update Purchase"),a.purchasedCount+=1),t.next=13,v.doc(a.albumId).set(a).then((function(){console.log("Document updated with ID: ",a.albumId)})).catch((function(t){console.error("Error updating document: ",t)}));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(x.a)(y.a.mark((function t(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("---- Update Batch Albums"),a=T.batch(),e.forEach((function(t,e){v.doc(t.albumId).set(t).then((function(){console.log("Document updated with ID: ",t.albumId)})).catch((function(t){console.error("Error updating document: ",t)}))})),t.next=5,a.commit().then((function(){console.log("-- Done Update Batch Albums")})).catch((function(t){console.error("Error updating batch document: ",t)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=a(24),D=a(1),P=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this,e=this.props,a=e.album,n=e.song,i=e.artist,l=e.isTopTen,o=e.showButtons,s=e.cartData;return Object(D.jsxs)("li",{className:"list-group-item d-flex flex-row justify-content-between bg-light px-3",children:[Object(D.jsxs)("span",{className:"p-0",children:[Object(D.jsx)(I.b,{className:"text-muted mr-2"}),Object(D.jsx)("span",{className:"font-weight-bold",children:a.albumName}),"  ",Object(D.jsx)("span",{className:"text-muted",children:i}),!l&&a.purchasedCount>0&&Object(D.jsxs)("span",{className:"text-success initialism ml-3",children:["PURCHASED - ",a.purchasedCount]})]}),Object(D.jsxs)("span",{className:"p-0",children:[Object(D.jsxs)("span",{role:"button",onClick:function(){R(n.songId,a,!1,"inc").catch((function(){a.onCartCount-=1})),t.setState({}),s.updateCartData(),C.a.fire("".concat(a.albumName),"Album added to cart!","success")},children:[!l&&Object(D.jsx)(I.a,{className:"text-dark mr-2"}),l&&Object(D.jsx)("span",{className:"text-secondary initialism",children:a.purchasedCount}),!l&&Object(D.jsx)("span",{className:"text-secondary initialism",children:a.onCartCount}),o&&Object(D.jsx)("kbd",{className:"text-dark bg-light ml-1",children:"Add To Cart"})]}),!l&&Object(D.jsxs)("span",{className:"text-dark font-weight-bold ml-5",children:["$ ",a.albumPrice]})]})]})}}]),a}(i.a.Component),B=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props,e=t.albums,a=t.isTopTen,n=t.showButtons,i=t.cartData;return Object(D.jsxs)("div",{className:"text-left m-5",children:[a&&Object(D.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(D.jsx)("h5",{className:"text-dark",children:"Top 10 Best Selling Albums"}),Object(D.jsx)("small",{className:"text-secondary mt-2 mr-3",children:"Bought"})]}),Object(D.jsx)("ul",{className:"list-group",children:e.map((function(t){return Object(D.jsx)(P,{artist:t.albumArtist,album:t,song:t.song,isTopTen:a,showButtons:n,cartData:i},t.albumId)}))})]})}}]),a}(i.a.Component),M=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))).state={playCount:0},t}return Object(c.a)(a,[{key:"render",value:function(){var t=this,e=this.props,a=e.album,n=e.song,i=e.artist,l=e.isTopTen,o=e.showButtons;return this.state.playCount=n.playCount,Object(D.jsxs)("li",{className:"d-flex flex-row justify-content-between ".concat(l?"list-group-item px-3 p-2 bg-light":"m-1"),children:[Object(D.jsxs)("span",{className:"p-0",children:[Object(D.jsx)(I.d,{className:"text-muted mr-2"}),i," - ",n.title]}),Object(D.jsxs)("span",{className:"p-0",children:[Object(D.jsx)("span",{className:"text-secondary initialism",children:this.state.playCount}),o&&Object(D.jsx)("kbd",{className:"bg-light ml-1",role:"button",onClick:function(){R(n.songId,a,!0).catch((function(){a.songs[n.songId-1].playCount-=1})),t.setState({})},children:Object(D.jsx)(I.c,{className:"text-dark opacity-2h5"})})]})]})}}]),a}(i.a.Component),L=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props,e=t.albums,a=t.songs,n=t.isTopTen,i=t.showButtons;return Object(D.jsxs)("div",{className:"text-left ".concat(n?"m-5":"m-4"),children:[n&&Object(D.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(D.jsx)("h5",{className:"text-dark",children:"Top 10 Most Played Songs"}),Object(D.jsx)("small",{className:"text-secondary mt-2 mr-3",children:"Plays"})]}),Object(D.jsx)("ul",{className:"list-group",children:a.map((function(t){return Object(D.jsx)(M,{artist:t.artist,album:e[t.albumId-1],song:t,isTopTen:n,showButtons:i},n?t.vId:t.songId)}))})]})}}]),a}(i.a.Component),F=function(t){var e,a=t.albums,n=t.isTopTen,l=t.showButtons;e=d.a.take(d.a.orderBy(a,["purchasedCount"],["desc"]),10);var o=[];return d.a.forEach(a,(function(t){o.push(t.songs)})),o=d.a.take(d.a.orderBy(d.a.flatten(o),["playCount"],["desc"]),10),o=d.a.map(o,(function(t,e){return t.vId=e+1,t})),Object(D.jsxs)(i.a.Fragment,{children:[Object(D.jsx)(B,{albums:e,isTopTen:n,showButtons:l}),Object(D.jsx)(L,{albums:a,songs:o,isTopTen:n,showButtons:l})]})},E=function(t){var e=t.albums,a=t.isTopTen,n=t.showButtons,i=t.cartData;return Object(D.jsx)("div",{className:"p-5",children:e.map((function(t,l){return Object(D.jsxs)("div",{className:"pb-1 mb-5",children:[Object(D.jsx)(P,{artist:t.albumArtist,album:t,song:t.songs,showButtons:n,cartData:i},t.albumId),Object(D.jsx)(L,{albums:e,songs:t.songs,isTopTen:a,showButtons:n})]},t.albumId)}))})},W=function(t){var e=t.albums,a=d.a.filter(e,(function(t){return t.purchasedCount>0}));d.a.forEach(a,(function(t){t.totalPrice=t.purchasedCount*t.albumPrice}));var n=d.a.sumBy(a,"totalPrice");return a=d.a.orderBy(a,["purchasedCount"],["desc"]),Object(D.jsxs)("div",{className:"m-5",children:[Object(D.jsx)("h3",{className:"text-dark mb-5",children:"Purchased Albums"}),a.length>0&&Object(D.jsxs)("table",{className:"table table-borderless",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{scope:"col",children:"#"}),Object(D.jsx)("th",{scope:"col",children:"Album"}),Object(D.jsx)("th",{scope:"col",children:"Album Artist"}),Object(D.jsx)("th",{scope:"col",children:"Amount"}),Object(D.jsx)("th",{scope:"col",children:"Price"})]})}),Object(D.jsx)("tbody",{children:a.map((function(t,e){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{scope:"row",className:"font-weight-normal",children:e}),Object(D.jsx)("td",{className:"font-weight-bold",children:t.albumName}),Object(D.jsx)("td",{children:t.albumArtist}),Object(D.jsx)("td",{children:t.purchasedCount}),Object(D.jsxs)("td",{children:["$",t.albumPrice]})]},t.albumId)}))}),Object(D.jsx)("tfoot",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{}),Object(D.jsx)("td",{}),Object(D.jsx)("td",{}),Object(D.jsx)("td",{}),Object(D.jsxs)("td",{className:"text-secondary font-weight-bold",children:["Total ($",n,")"]})]})})]}),a.length<1&&Object(D.jsx)("h5",{className:"text-muted mt-5",children:"No purchased albums."}),a.length>0&&Object(D.jsx)("h5",{className:"text-muted mt-5",children:"Thank you for your purchase!"})]})},Y=function(t){var e=t.cartData,a=t.closeModal,n=Object(m.f)();return Object(D.jsxs)("div",{className:"cart-modal",children:[" ",Object(D.jsxs)("div",{className:"cart-modal-box bg-light",children:[Object(D.jsxs)("h4",{className:"list-group-item d-flex flex-row justify-content-between bg-white text-dark",children:["Checkout",Object(D.jsxs)("span",{className:"text-secondary font-weight-bold",children:["Total ($",e.totalCartPrice,")"]})]}),Object(D.jsx)("div",{className:"checkout-table",children:Object(D.jsxs)("table",{className:"table table-borderless",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{scope:"col",children:"#"}),Object(D.jsx)("th",{scope:"col",children:"Album"}),Object(D.jsx)("th",{scope:"col",children:"Album Artist"}),Object(D.jsx)("th",{scope:"col",children:"Amount"}),Object(D.jsx)("th",{scope:"col",children:"Price"})]})}),e.addedToCartAlbums.length>0&&Object(D.jsx)("tbody",{children:e.addedToCartAlbums.map((function(t,e){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{scope:"row",className:"font-weight-normal",children:e}),Object(D.jsx)("td",{className:"font-weight-bold",children:t.albumName}),Object(D.jsx)("td",{children:t.albumArtist}),Object(D.jsx)("td",{children:t.onCartCount}),Object(D.jsxs)("td",{children:["$",t.albumPrice]})]},t.albumId)}))})]})}),Object(D.jsx)("div",{className:"cart-modal-footer",children:Object(D.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(D.jsx)("kbd",{className:"text-light bg-secondary m-3 p-2",role:"button",onClick:function(){a()},children:"Back"}),Object(D.jsx)("kbd",{className:"text-light font-weight-bold bg-dark m-3 p-2",role:"button",onClick:function(){C.a.fire({title:"Are you sure?",text:"Placing your order.",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, place it!"}).then((function(t){t.isConfirmed&&(d.a.forEach(e.addedToCartAlbums,(function(t){t.purchasedCount+=t.onCartCount,t.onCartCount=0})),w(e.addedToCartAlbums),e.updateCartData(),a(),n.push("/the-online-music-store/purchase"),C.a.fire("Order succesful!","You are redirected to Purchase page.","success"))}))},children:"Place Order"})]})})]})]})},G=function(t){var e=Object(n.useState)(t.albums),a=Object(s.a)(e,2),l=(a[0],a[1]),o=Object(n.useState)(!1),r=Object(s.a)(o,2),c=r[0],u=r[1],p=t.cartData;return Object(D.jsxs)(i.a.Fragment,{children:[c&&p.addedToCartAlbums.length>0&&Object(D.jsx)(Y,{cartData:p,closeModal:function(){u(!1)}}),Object(D.jsxs)("div",{className:"m-5",children:[Object(D.jsx)("h3",{className:"text-dark mb-5",children:"My Cart"}),p.addedToCartAlbums.length>0&&Object(D.jsxs)("table",{className:"table table-borderless",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{scope:"col",children:"#"}),Object(D.jsx)("th",{scope:"col",children:"Album"}),Object(D.jsx)("th",{scope:"col",children:"Album Artist"}),Object(D.jsx)("th",{scope:"col",children:"Amount"}),Object(D.jsx)("th",{scope:"col",children:"Price"}),Object(D.jsx)("th",{scope:"col",children:"Option"})]})}),Object(D.jsx)("tbody",{children:p.addedToCartAlbums.map((function(t,e){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{scope:"row",className:"font-weight-normal",children:e}),Object(D.jsx)("td",{className:"font-weight-bold",children:t.albumName}),Object(D.jsx)("td",{children:t.albumArtist}),Object(D.jsx)("td",{children:t.onCartCount}),Object(D.jsxs)("td",{children:["$",t.albumPrice]}),Object(D.jsx)("td",{children:Object(D.jsx)("kbd",{className:"text-secondary bg-light ml-1",role:"button",onClick:function(){R(0,t,!1,"dec").catch((function(){t.onCartCount-=1})),l(p.addedToCartAlbums),p.updateCartData(),C.a.fire("".concat(t.albumName),"Album deleted from cart!","error")},children:"Remove"})})]},t.albumId)}))}),Object(D.jsx)("tfoot",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{}),Object(D.jsx)("td",{}),Object(D.jsx)("td",{}),Object(D.jsx)("td",{}),Object(D.jsxs)("td",{className:"text-secondary font-weight-bold",children:["Total ($",p.totalCartPrice,")"]}),Object(D.jsx)("td",{children:Object(D.jsx)("kbd",{className:"text-info font-weight-bold bg-light ml-1",role:"button",onClick:function(){u(!0)},children:"Checkout"})})]})})]}),p.addedToCartAlbums.length<1&&Object(D.jsx)("h5",{className:"text-muted mt-5",children:"No albums added to cart."})]})]})},H=function(t){Object(u.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))).state={addedToCartAlbums:[],totalCartItems:0,totalCartPrice:0,updateCartData:function(){var e=d.a.filter(t.albums,(function(t){return t.onCartCount>0}));d.a.forEach(e,(function(t){t.totalPrice=t.onCartCount*t.albumPrice})),t.setState({addedToCartAlbums:e,totalCartItems:d.a.sumBy(e,"onCartCount"),totalCartPrice:d.a.sumBy(e,"totalPrice")})}},t.albums=t.props.albums,t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.state.updateCartData()}},{key:"render",value:function(){var t=this.props.albums;return Object(D.jsxs)(h.a,{children:[Object(D.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(D.jsx)(h.b,{to:"/the-online-music-store",className:"navbar-brand nav-item nav-link text-decoration-none",children:"The Online Music Store"}),Object(D.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(D.jsx)("span",{className:"navbar-toggler-icon"})}),Object(D.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(D.jsxs)("div",{className:"navbar-nav",children:[Object(D.jsxs)(h.b,{to:"/the-online-music-store/home",activeClassName:"text-info",className:"nav-item nav-link text-decoration-none",children:["Home ",Object(D.jsx)("span",{className:"sr-only",children:"(current)"})]}),Object(D.jsx)(h.b,{to:"/the-online-music-store/albums",activeClassName:"text-info",className:"nav-item nav-link text-decoration-none",children:"Albums"}),Object(D.jsxs)(h.b,{to:"/the-online-music-store/cart",activeClassName:"text-info",className:"nav-item nav-link text-decoration-none",children:["Cart",Object(D.jsx)("span",{className:"badge badge-pill badge-dark ml-1",children:this.state.totalCartItems})]}),Object(D.jsx)(h.b,{to:"/the-online-music-store/purchase",activeClassName:"text-info",className:"nav-item nav-link text-decoration-none",children:"Purchase"}),Object(D.jsx)("a",{className:"reset-btn nav-item nav-link text-decoration-none text-muted position-absolute mr-5",role:"button",onClick:function(){C.a.fire({title:"Reset Firestore Database?\nThese includes play, cart, and purchase counters.\n\nPage will reload shortly.",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Randomize",denyButtonText:"Clear"}).then((function(t){t.isConfirmed?(A(!0),C.a.fire({position:"center",icon:"success",title:"Reseting data with random values :)",showConfirmButton:!1,timer:1700}),setTimeout((function(){window.location.reload()}),2300)):t.isDenied&&(A(),C.a.fire({position:"center",icon:"success",title:"Clearing store data :)",showConfirmButton:!1,timer:1700}),setTimeout((function(){window.location.reload()}),2300))}))},children:"Reset Data"})]})})]}),Object(D.jsx)(m.b,{exact:!0,path:"/the-online-music-store/cart",children:Object(D.jsx)(G,{cartData:this.state,albums:t})}),Object(D.jsx)(m.b,{exact:!0,path:"/the-online-music-store/purchase",children:Object(D.jsx)(W,{albums:t})}),Object(D.jsx)(m.b,{exact:!0,path:"/the-online-music-store/albums",children:Object(D.jsx)(E,{albums:t,isTopTen:!1,showButtons:!0,cartData:this.state})}),Object(D.jsx)(m.b,{exact:!0,path:"/the-online-music-store/home",children:Object(D.jsx)(F,{albums:t,isTopTen:!0,showButtons:!1})}),Object(D.jsx)(m.b,{exact:!0,path:"/the-online-music-store",children:Object(D.jsx)(m.a,{exact:!0,from:"/the-online-music-store",to:"/the-online-music-store/home"})}),Object(D.jsx)(m.b,{exact:!0,path:"/",children:Object(D.jsx)(m.a,{exact:!0,from:"/",to:"/the-online-music-store/"})})]})}}]),a}(i.a.Component),U=(a(54),function(){var t=Object(n.useState)([]),e=Object(s.a)(t,2),a=e[0],i=e[1];return Object(n.useEffect)((function(){k().then((function(t){i(t)}))}),[]),Object(D.jsx)("div",{className:"App",children:!d.a.isEmpty(a)&&Object(D.jsx)(H,{albums:a})})}),z=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,60)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,l=e.getLCP,o=e.getTTFB;a(t),n(t),i(t),l(t),o(t)}))};a(55),a(56);o.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(U,{})}),document.getElementById("root")),z()}},[[58,1,2]]]);
//# sourceMappingURL=main.c70b486b.chunk.js.map